<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Quản lý Khách Hàng</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>

<div class="d-flex">
    <!-- Sidebar -->
    <div class="bg-light border-end p-3" style="width: 200px;">
        <h4>Menu</h4>
        <ul class="nav flex-column">
            <li class="nav-item"><a th:href="@{/admin/chi-tiet-san-pham}" class="nav-link">Chi tiet san pham</a></li>
            <li class="nav-item"><a th:href="@{/admin/dong-san-pham}" class="nav-link">Dong san pham</a></li>
            <li class="nav-item"><a th:href="@{/admin/mau-sac}" class="nav-link">Mau sac</a></li>
            <li class="nav-item"><a th:href="@{/admin/nsx}" class="nav-link">NSX</a></li>
            <li class="nav-item"><a th:href="@{/admin/san-pham}" class="nav-link">San pham</a></li>
            <li class="nav-item"><a th:href="@{/admin/khach-hang}" class="nav-link">Khach hang</a></li>
            <li class="nav-item"><a th:href="@{/admin/cua-hang}" class="nav-link">Cua Hang</a></li>
            <li class="nav-item"><a th:href="@{/admin/nhan-vien}" class="nav-link">Nhan Vien</a></li>
            <li class="nav-item"><a th:href="@{/admin/chuc-vu}" class="nav-link">Chuc vu</a></li>
        </ul>
    </div>

    <!-- Nội dung chính -->
    <div class="p-4 flex-grow-1">
        <h2>Thêm/Sửa Khách Hàng</h2>
        <form action="/admin/khach-hang/update" method="post">
            <input type="hidden" name="id" th:value="${id}">
            <div class="mb-3">
                <label class="form-label">Mã khách hàng</label>
                <input type="text" name="ma" class="form-control" th:value="${dt != null ? dt.ma : ''}">
            </div>

            <div class="mb-3">
                <label class="form-label">Họ</label>
                <input type="text" name="ho" class="form-control" th:value="${dt != null ? dt.ho : ''}">
            </div>

            <div class="mb-3">
                <label class="form-label">Tên Đệm</label>
                <input type="text" name="tenDem" class="form-control" th:value="${dt != null ? dt.tenDem : ''}">
            </div>

            <div class="mb-3">
                <label class="form-label">Tên</label>
                <input type="text" name="ten" class="form-control" th:value="${dt != null ? dt.ten : ''}">
            </div>

            <div class="mb-3">
                <label class="form-label">Ngày sinh</label>
                <input type="date" name="ngaySinh" class="form-control"
                       th:value="${dt != null and dt.ngaySinh != null ? #dates.format(dt.ngaySinh, 'yyyy-MM-dd') : ''}">

            </div>

            <div class="mb-3">
                <label class="form-label">Số điện thoại</label>
                <input type="text" name="sdt" class="form-control" th:value="${dt != null ? dt.sdt : ''}">
            </div>

            <div class="mb-3">
                <label class="form-label">Địa chỉ</label>
                <input type="text" name="diaChi" class="form-control" th:value="${dt != null ? dt.diaChi : ''}">
            </div>

            <div class="mb-3">
                <label class="form-label">Thành phố</label>
                <input type="text" name="thanhPho" class="form-control" th:value="${dt != null ? dt.thanhPho : ''}">
            </div>

            <div class="mb-3">
                <label class="form-label">Quốc gia</label>
                <input type="text" name="quocGia" class="form-control" th:value="${dt != null ? dt.quocGia : ''}">
            </div>

            <button type="submit" class="btn btn-primary">Lưu</button>
        </form>

        <h2 class="mt-4">Danh sách Khách Hàng</h2>
        <table class="table">
            <thead>
            <tr>
                <th>ID</th>
                <th>Mã KH</th>
                <th>Họ</th>
                <th>Tên Đệm</th>
                <th>Tên</th>
                <th>Ngày Sinh</th>
                <th>Số ĐT</th>
                <th>Địa chỉ</th>
                <th>Thành phố</th>
                <th>Quốc gia</th>
                <th>Action</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="kh : ${list}">
                <td th:text="${kh.id}"></td>
                <td th:text="${kh.ma}"></td>
                <td th:text="${kh.ho}"></td>
                <td th:text="${kh.tenDem}"></td>
                <td th:text="${kh.ten}"></td>
                <td th:text="${kh.ngaySinh}"></td>
                <td th:text="${kh.sdt}"></td>
                <td th:text="${kh.diaChi}"></td>
                <td th:text="${kh.thanhPho}"></td>
                <td th:text="${kh.quocGia}"></td>
                <td>
                    <a th:href="@{/admin/khach-hang/delete/{id}(id=${kh.id})}" class="btn btn-danger">Xóa</a>
                    <a th:href="@{/admin/khach-hang/{id}(id=${kh.id})}" class="btn btn-secondary">details</a>
                    <a th:href="@{/admin/khach-hang}" class="btn btn-success">view add</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>
